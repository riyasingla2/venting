<html>
<head>
<title> just type </title>
<link rel="stylesheet" href="yay.css">

</head>
<body>
<center> 

<div id="first" style="position: relative;top: 50px;">
<h id="fir"> a place to vent</h> <br>
<p id="hehe"> i promise i don't share </p>
<p id="fir2"> (just reload the page to clear all the text)</p>


  <br>
  


  <textarea id="hi" type="text" id="content" placeholder="text" value=" "></textarea>
  <br>
<br>

  <p id="fir2"> in case you would like to save your thoughts, click the button below:</p>
  <button onclick="sImage()"> save it :)</button>

<br>

<div class='container'>
  <p class='typewriter'> remember to be <br>
  <span class='typewriter-text' data-text='[ "you always!!", "honest. ", "amazing. ", "understanding. ", "brave. ",  "kind. ", "thoughtful. ", "the best ever." ]'></span>
  </p>

</div>

  <script src='https://cdn.jsdelivr.net/npm/canvas-confetti@0.0.3/dist/confetti.browser.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>

<script>

function resizeBox() {
    var windowWidth = $(window).width()-100;
    $('#content').css('width', windowWidth);
}

$(function() {

  resizeBox();
  
  $(window).resize(resizeBox);

  $('#content').val(localStorage.content);

  $('#content').live( "keyup", function() {
    var content = $('#content').val();
    localStorage.content = content;
  });

});

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  window.addEventListener('load', function() {
        document.getElementById('hi').value = "";
      });


   function sImage() {

  const textarea = document.getElementById('hi');
  html2canvas(textarea, {
    useCORS: true,
    allowTaint: true,
    backgroundColor: 'white',
  }).then(canvas => {
    const imgData = canvas.toDataURL('image/png');
    const link = document.createElement('a');
    link.download = 'textarea.png';
    link.href = imgData;
    link.click();
  });
}




</script>

<script>



$(document).ready(function() {
  
  typing( 0, $('.typewriter-text').data('text') );

  function typing( index, text ) {
    
    var textIndex = 1;

    var tmp = setInterval(function() {
      if ( textIndex < text[ index ].length + 1 ) {
        $('.typewriter-text').text( text[ index ].substr( 0, textIndex ) );
        textIndex++;
      } else {
        setTimeout(function() { deleting( index, text ) }, 2000);
        clearInterval(tmp);
      }

    }, 150);

  }

  function deleting( index, text ) {

    var textIndex = text[ index ].length;

    var tmp = setInterval(function() {

      if ( textIndex + 1 > 0 ) {
        $('.typewriter-text').text( text[ index ].substr( 0, textIndex ) );
        textIndex--;
      } else {
        index++;
        if ( index == text.length ) { index = 0; }
        typing( index, text );
        clearInterval(tmp);
      }

    }, 150)

  }

});


  </script>

</div>
</center>
</body>
</html>

